"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof="function"==typeof Symbol&&"symbol"==_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)};!function(e){"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).GitHubCalendar=e()}((function(){return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var i="function"==typeof require&&require;if(!u&&i)return i(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[s]={exports:{}};t[s][0].call(l.exports,(function(e){return o(t[s][1][e]||e)}),l,l.exports,e,t,n,r)}return n[s].exports}for(var a="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,n){var r=e("github-calendar-parser"),o=e("elly"),a=e("add-subtract-date"),s=e("formatoid"),u="YYYY 年 MMM D 日",i="MMMM D",c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function l(e){return e+" "+(1===e?"day":"天")}t.exports=function(e,t,n){e=o(e),(n=n||{}).summary_text=n.summary_text||'数据来源 <a href="https://github.com/'+t+'" target="blank">@'+t+"</a>",n.cache=1e3*(n.cache||86400),!1===n.global_stats&&(e.style.minHeight="175px");var d={content:"gh_calendar_content."+t,expire_at:"gh_calendar_expire."+t};return n.proxy=n.proxy||function(e){return fetch("https://api.bloggify.net/gh-calendar/?username="+e).then((function(e){return e.text()}))},n.getCalendar=n.getCalendar||function(e){if(n.cache&&Date.now()<+localStorage.getItem(d.expire_at)){var t=localStorage.getItem(d.content);if(t)return Promise.resolve(t)}return n.proxy(e).then((function(e){return n.cache&&(localStorage.setItem(d.content,e),localStorage.setItem(d.expire_at,Date.now()+n.cache)),e}))},function d(){return n.getCalendar(t).then((function(t){var f=document.createElement("div");f.innerHTML=t;var p,g,b,m,h,y,v,x,_,M,S,k=f.querySelector(".js-yearly-contributions");o(".position-relative h2",k).remove(),k.querySelector(".float-left.text-gray").innerHTML=n.summary_text,k.querySelector("include-fragment")?setTimeout(d,500):(!0===n.responsive&&(g=(p=k.querySelector("svg.js-calendar-graph-svg")).getAttribute("width"),b=p.getAttribute("height"),p.removeAttribute("height"),p.setAttribute("width","100%"),p.setAttribute("viewBox","0 0 "+g+" "+b)),!1!==n.global_stats&&(h=(m=r(o("svg",k).outerHTML)).current_streak?s(m.current_streak_range[0],i)+" 日 &ndash; "+s(m.current_streak_range[1],i):m.last_contributed?"最后一次提交于 "+s(m.last_contributed,i):"Rock - Hard Place",y=m.longest_streak?s(m.longest_streak_range[0],i)+" 日 &ndash; "+s(m.longest_streak_range[1],i):m.last_contributed?"最后一次提交于 "+s(m.last_contributed,i)+" ":"Rock - Hard Place",v=o("<div>",{class:"contrib-column contrib-column-first table-column",html:'<span class="text-muted">过去一年内提交</span>\n                               <span class="contrib-number">'+m.last_year+' 次</span>\n                               <span class="text-muted">'+s(a.add(a.subtract(new Date,1,"year"),1,"day"),u)+" &ndash; "+s(new Date,u)+"</span>"}),x=o("<div>",{class:"contrib-column table-column",html:'<span class="text-muted">最长连续提交记录</span>\n                               <span class="contrib-number">'+l(m.longest_streak)+'</span>\n                               <span class="text-muted">'+y+" 日</span>"}),_=o("<div>",{class:"contrib-column table-column",html:'<span class="text-muted">当前提交记录</span>\n                               <span class="contrib-number">'+l(m.current_streak)+'</span>\n                               <span class="text-muted">'+h+" 日</span>"}),k.appendChild(v),k.appendChild(x),k.appendChild(_)),e.innerHTML=k.innerHTML,!0===n.tooltips&&(M=e,(S=document.createElement("div")).classList.add("day-tooltip"),M.appendChild(S),M.querySelectorAll("rect.day").forEach((function(e){e.addEventListener("mouseenter",(function(e){var t=e.target.getAttribute("data-count");"0"===t?t="No contributions":"1"===t?t="1 contribution":t+=" contributions";var n=new Date(e.target.getAttribute("data-date")),r=c[n.getUTCMonth()]+" "+n.getUTCDate()+", "+n.getUTCFullYear();S.innerHTML="<strong>"+t+"</strong> on "+r,S.classList.add("is-visible");var o=e.target.getBoundingClientRect(),a=o.left+window.pageXOffset-S.offsetWidth/2+o.width/2,s=o.bottom+window.pageYOffset-S.offsetHeight-2*o.height;S.style.top=s+"px",S.style.left=a+"px"})),e.addEventListener("mouseleave",(function(){S.classList.remove("is-visible")}))}))))})).catch((function(e){return console.error(e)}))}()}},{"add-subtract-date":2,elly:4,formatoid:6,"github-calendar-parser":8}],2:[function(e,t,n){function r(e){return function t(n,r,o){switch(r*=e,o){case"years":case"year":n.setFullYear(n.getFullYear()+r);break;case"months":case"month":n.setMonth(n.getMonth()+r);break;case"weeks":case"week":return t(n,7*r,"days");case"days":case"day":n.setDate(n.getDate()+r);break;case"hours":case"hour":n.setHours(n.getHours()+r);break;case"minutes":case"minute":n.setMinutes(n.getMinutes()+r);break;case"seconds":case"second":n.setSeconds(n.getSeconds()+r);break;case"milliseconds":case"millisecond":n.setMilliseconds(n.getMilliseconds()+r);break;default:throw new Error("Invalid range: "+o)}return n}}t.exports={add:r(1),subtract:r(-1)}},{}],3:[function(e,t,n){t.exports.en=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.exports.en.abbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t.exports.en.short=["Su","Mo","Tu","We","Th","Fr","Sa"],t.exports.fr=["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],t.exports.fr.abbr=["dim","lun","mar","mer","jeu","ven","sam"],t.exports.fr.short=["di","lu","ma","me","je","ve","sa"],t.exports.es=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],t.exports.es.abbr=["dom","lun","mar","mir","jue","vie","sab"],t.exports.es.short=["do","lu","ma","mi","ju","vi","sa"],t.exports.it=["Domenica","Lunedi","Martedi","Mercoledi","Giovedi","Venerdi","Sabato"],t.exports.it.abbr=["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],t.exports.it.short=["D","L","Ma","Me","G","V","S"],t.exports=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],t.exports.abbr=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],t.exports.short=["Su","Mo","Tu","We","Th","Fr","Sa"]},{}],4:[function(e,t,n){var r=e("iterate-object"),o=e("sliced");function a(e,t){return"string"==typeof e?"<"===e.charAt(0)?(e=document.createElement(e.slice(1,-1)),r(t||{},(function(t,n){switch(n){case"text":return void(e.textContent=t);case"html":return void(e.innerHTML=t)}e.setAttribute(n,t)})),e):(t=t||document).querySelector(e):e}a.$$=function(e,t){return"string"==typeof e?(t=t||document,o(t.querySelectorAll(e))):[e]},t.exports=a},{"iterate-object":9,sliced:13}],5:[function(e,t,n){t.exports=function(e,t,n){n=n||"0";var r=(t=t||2)-(e=e.toString()).length;return(r<=0?"":n.repeat(r))+e}},{}],6:[function(e,t,n){var r=e("months"),o=e("days"),a=e("fillo"),s=e("parse-it").Parser,u={YYYY:function(e,t){return t?e.getUTCFullYear():e.getFullYear()},YY:function(e,t){return u.YYYY(e,t)%100},MMMM:function(e,t){return t?r[e.getUTCMonth()]:r[e.getMonth()]},MMM:function(e,t){return t?r.abbr[e.getUTCMonth()]:r.abbr[e.getMonth()]},MM:function(e,t){return a(t?e.getUTCMonth()+1:e.getMonth()+1)},M:function(e,t){return t?e.getUTCMonth()+1:e.getMonth()+1},dddd:function(e,t){return o[u.d(e,t)]},ddd:function(e,t){return o.abbr[u.d(e,t)]},dd:function(e,t){return o.short[u.d(e,t)]},d:function(e,t){return t?e.getUTCDay():e.getDay()},DD:function(e,t){return a(u.D(e,t))},D:function(e,t){return t?e.getUTCDate():e.getDate()},A:function(e,t){return u.a(e,t).toUpperCase()},a:function(e,t){return 12<=u.H(e,t)?"pm":"am"},hh:function(e,t){return a(u.h(e,t))},h:function(e,t){return u.H(e,t)%12||12},HH:function(e,t){return a(u.H(e,t))},H:function(e,t){return t?e.getUTCHours():e.getHours()},mm:function(e,t){return a(u.m(e,t))},m:function(e,t){return t?e.getUTCMinutes():e.getMinutes()},ss:function(e,t){return a(u.s(e,t))},s:function(e,t){return t?e.getUTCSeconds():e.getSeconds()},S:function(e,t){return Math.round(u.s(e,t)/60*10)},SS:function(e,t){return a(u.s(e,t)/60*100)},SSS:function(e,t){return a(u.s(e,t)/60*1e3,3)},Z:function(e){var t=-e.getTimezoneOffset();return(0<=t?"+":"-")+a(parseInt(t/60))+":"+a(t%60)},ZZ:function(e){var t=-e.getTimezoneOffset();return(0<=t?"+":"-")+a(parseInt(t/60))+a(t%60)}},i=new s(u);t.exports=function(e,t){return i.run(t,[e,e._useUTC])}},{days:3,fillo:5,months:10,"parse-it":11}],7:[function(e,t,n){t.exports=["#eee","#d6e685","#8cc665","#44a340","#1e6823"]},{}],8:[function(e,t,n){var r=e("github-calendar-legend");t.exports=function(e){function t(){n.current_streak>n.longest_streak&&(n.longest_streak=n.current_streak,n.longest_streak_range[0]=n.current_streak_range[0],n.longest_streak_range[1]=n.current_streak_range[1])}var n={last_year:0,longest_streak:-1,longest_streak_range:[],current_streak:0,current_streak_range:[],weeks:[],days:[],last_contributed:null},o=[];return e.split("\n").slice(2).map((function(e){return e.trim()})).forEach((function(e){if(e.startsWith("<g transform"))return o.length&&n.weeks.push(o)&&(o=[]);var a,s=e.match(/fill="(#[a-z0-9]+)"/),u=e.match(/data-date="([0-9\-]+)"/),i=e.match(/data-count="([0-9]+)"/);s=s&&s[1],u=u&&u[1],i=i&&+i[1];s&&(a={fill:s,date:new Date(u),count:i,level:r.indexOf(s)},0===n.current_streak&&(n.current_streak_range[0]=a.date),a.count?(++n.current_streak,n.last_year+=a.count,n.last_contributed=a.date,n.current_streak_range[1]=a.date):(t(),n.current_streak=0),o.push(a),n.days.push(a))})),t(),n}},{"github-calendar-legend":7}],9:[function(e,t,n){t.exports=function(e,t){var n=0,r=[];if(Array.isArray(e))for(;n<e.length&&!1!==t(e[n],n,e);++n);else if("object"===(void 0===e?"undefined":_typeof(e))&&null!==e)for(r=Object.keys(e);n<r.length&&!1!==t(e[r[n]],r[n],e);++n);}},{}],10:[function(e,t,n){t.exports=["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],t.exports.abbr=["1 月","2 月","3 月","4 月","5 月","6 月","7 月","8 月","9 月","10 月","11 月","12 月"],t.exports.it=["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],t.exports.abbr.it=["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],t.exports.de=["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],t.exports.abbr.de=["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"]},{}],11:[function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=e("regex-escape"),a=(function(e,t,n){t&&r(e.prototype,t),n&&r(e,n)}(s,[{key:"run",value:function(e,t){var n="";t=t||[];do{var r,o=e.match(this.re),a=o&&o[1],s=a||e.charAt(0);a?("function"==typeof(r=this.obj[a])&&(r=r.apply(this,t)),n+=r):n+=s,e=e.substring(s.length)}while(e);return n}}]),s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),this.obj=e||{},this.re=new RegExp("^("+Object.keys(e).map(o).join("|")+")")}function u(e,t,n){return new a(t).run(e,n)}u.Parser=a,t.exports=u},{"regex-escape":12}],12:[function(e,t,n){function r(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}r.proto=function(){return RegExp.escape=r},t.exports=r},{}],13:[function(e,t,n){t.exports=function(e,t,n){var r=[],o=e.length;if(0===o)return r;var a=t<0?Math.max(0,t+o):t||0;for(void 0!==n&&(o=n<0?n+o:n);o-- >a;)r[o-a]=e[o];return r}},{}]},{},[1])(1)}));