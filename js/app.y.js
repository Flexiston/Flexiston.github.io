"use strict";var requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;window.lazyLoadOptions={elements_selector:".ll",threshold:0},window.FPConfig={delay:0,ignoreKeywords:["#"],maxRPS:6,hoverDelay:0};var _hmt=_hmt||[];function configs(){var n=$("#b2t"),i=$("#view-div"),a=$(window).height(),e=$("header"),t=$(".rebar"),o=$(window).scrollTop(),r=$(window).scrollTop(),s=!1;function d(e){var t=$(window).scrollTop(),o=t-r;a<(r=t)?(n.removeClass("b2t--hide").addClass("b2t--show"),0<o?n.removeClass("b2t--hl"):n.addClass("b2t--hl"),i&&i.css("opacity",1),s=!1):(n.removeClass("b2t--show").addClass("b2t--hide").removeClass("b2t--hl"),i&&i.css("opacity",0),requestAnimationFrame(d))}n&&(n.click(function(){window.scrollTo({top:0,behavior:"smooth"})}),$(document,window).scroll(function(){s||(requestAnimationFrame(d),s=!0)})),$(document,window).scroll(function(){o=$(window).scrollTop(),t&&t.css("width",$(document).scrollTop()/($(document).height()-$(window).height())*100+"%"),0<o?e.addClass("header--show"):e.removeClass("header--show")}),e.hover(function(){o=$(window).scrollTop(),a<o&&i&&i.css("opacity",1),e.addClass("header--show")}),e.mouseleave(function(){0===(o=$(window).scrollTop())&&e.removeClass("header--show"),o<=a&&i&&i.css("opacity",0)})}function showNotification(){var e=-1===getComputedStyle(document.documentElement).getPropertyValue("--color-mode").indexOf("dark")?"#0A73FF":"#1f1f1f";$("#app-refresh").css({top:"0",background:e})}function initL2Dwidget(){L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,log:!1,model:{jsonPath:"https://cdn.jsdelivr.net/npm/live2d-widget-model-hibiki@1.0.5/assets/hibiki.model.json"},display:{width:160,height:330,position:"left",hOffset:8,vOffset:3},mobile:{show:!1}})}!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?5de191b42e8915ea644fc19a8bd460e7";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),$("#btn-dropdown").click(function(){var e=$("#dropdown-menus");requestAnimationFrame(function(){e.css("display","flex"),requestAnimationFrame(function(){e.css("transform","translateY(0)"),e.css("opacity","1")})})}),$("#btn-dropback").click(function(){var e=$("#dropdown-menus");e.css("transform","translateY(2.25rem)"),e.css("opacity","0"),setTimeout(function(){e.css("display","none")},350)}),$(function(){configs()}),$(document.body).on("touchmove",function(e){e.preventDefault()}),$(window).on("load",function(){setTimeout(function(){$(document.body).unbind("touchmove")},750),NProgress.done();var e,t=document.title;document.addEventListener("visibilitychange",function(){document.hidden?(document.title="╭(°A°`)╮ 页面崩溃啦 ~",clearTimeout(e)):(document.title="(ฅ>ω<*ฅ) 噫又好了~ | "+t,e=setTimeout(function(){document.title=t},1500))})}),function(e,n){var i,a=[];e.requestAnimationFrame=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},function(t){var o=n.createElement("style");o.type="text/css";try{o.appendChild(n.createTextNode(t))}catch(e){o.styleSheet.cssText=t}n.getElementsByTagName("head")[0].appendChild(o)}(".heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: '';width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 50%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}"),i="function"==typeof e.onclick&&e.onclick,e.onclick=function(e){var t,o;i&&i(),t=e,(o=n.createElement("div")).className="heart",a.push({el:o,x:t.clientX-5,y:t.clientY-5,scale:1,alpha:1,color:"rgb("+~~(255*Math.random())+","+~~(255*Math.random())+","+~~(255*Math.random())+")"}),n.body.appendChild(o)},function e(){for(var t=0;t<a.length;t++)a[t].alpha<=0?(n.body.removeChild(a[t].el),a.splice(t,1)):(a[t].y--,a[t].scale+=.004,a[t].alpha-=.013,a[t].el.style.cssText="left:"+a[t].x+"px;top:"+a[t].y+"px;opacity:"+a[t].alpha+";transform:scale("+a[t].scale+","+a[t].scale+") rotate(45deg);background:"+a[t].color+";z-index:99999");requestAnimationFrame(e)}()}(window,document),"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",function(){showNotification()}),window.addEventListener("load",function(){navigator.serviceWorker.register("/service-worker.js")})),/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)||$.getScript("https://cdn.jsdelivr.net/npm/live2d-widget@^3.1.3/lib/L2Dwidget.min.js",initL2Dwidget);